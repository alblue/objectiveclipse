<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.2"?>
<plugin>
	<extension point="org.eclipse.cdt.core.language">
		<language class="org.eclipse.cdt.objc.core.dom.ast.objc.ObjCLanguage"
			id="org.eclipse.cdt.objc.core.objcLanguage" name="%objc.language.name">
			<contentType id="org.eclipse.cdt.objc.core.objcHeader" />
			<contentType id="org.eclipse.cdt.objc.core.objcSource" />
		</language>
	</extension>

	<extension point="org.eclipse.core.contenttype.contentTypes">
		<!-- declares a content type for ObjC files -->
		<content-type id="org.eclipse.cdt.objc.core.objcSource"
			name="%objc.source.name" base-type="org.eclipse.cdt.core.cSource"
			file-extensions="m" priority="high" />
	</extension>

	<extension point="org.eclipse.core.contenttype.contentTypes">
		<!-- declares a content type for ObjC files -->
		<content-type id="org.eclipse.cdt.objc.core.objcHeader"
			name="%objc.header.name" base-type="org.eclipse.cdt.objc.core.objcSource"
			file-extensions="h" priority="high" />
	</extension>

	<extension id="objcnature" name="%objc.nature.name"
		point="org.eclipse.core.resources.natures">
		<runtime>
			<run class="org.eclipse.cdt.objc.core.ObjCProjectNature">
			</run>
		</runtime>
	</extension>
	<extension point="org.eclipse.team.core.fileTypes">
		<fileTypes type="text" extension="m">
		</fileTypes>
	</extension>

	<!-- Managed Make Builder Tool Specifications -->
	<extension id="objc.cdt.managed.build.info" name="Managed Build Tools Description"
		point="org.eclipse.cdt.managedbuilder.core.buildDefinitions">
		<managedBuildRevision fileVersion="4.0.0">
		</managedBuildRevision>
		<tool natureFilter="objcnature" id="cdt.managedbuild.tool.macosx.objc.linker"
			name="%objc.linker.name" superClass="cdt.managedbuild.tool.macosx.c.linker">
			<optionCategory owner="cdt.managedbuild.tool.macosx.objc.linker"
				name="%objc.frameworks.name" id="cdt.managedbuild.tool.macosx.objc.linker.frameworks">
			</optionCategory>
			<option name="%objc.frameworks.name"
				category="cdt.managedbuild.tool.macosx.objc.linker.frameworks"
				command="-framework ${VALUE}" id="cdt.managedbuild.tool.macosx.objc.linker.framework"
				valueType="stringList">
				<listOptionValue value="Foundation"/>
			</option>
		</tool>
		<tool natureFilter="objcnature" id="cdt.managedbuild.tool.macosx.objc.compiler"
			name="%objc.compiler.name" superClass="cdt.managedbuild.tool.gnu.c.compiler">
			<inputType sourceContentType="org.eclipse.cdt.objc.core.objcSource"
				sources="m" dependencyContentType="org.eclipse.cdt.core.cHeader"
				dependencyExtensions="h"
				dependencyCalculator="org.eclipse.cdt.managedbuilder.makegen.gnu.DefaultGCCDependencyCalculator2"
				id="cdt.managedbuild.tool.macosx.objc.compiler.input"
				scannerConfigDiscoveryProfileId="org.eclipse.cdt.managedbuilder.core.GCCManagedMakePerProjectProfileC|org.eclipse.cdt.make.core.GCCStandardMakePerFileProfile"
				languageId="org.eclipse.cdt.core.gcc">
			</inputType>
		</tool>
		<toolChain archList="all" osList="macosx" name="%objc.tool.name"
			targetTool="cdt.managedbuild.tool.macosx.c.linker.macosx.base;cdt.managedbuild.tool.macosx.objc.linker.macosx.base;cdt.managedbuild.tool.macosx.objc.compiler.macosx.base;cdt.managedbuild.tool.gnu.assembler.macosx.base;cdt.managedbuild.tool.gnu.archiver.macosx.base"
			id="cdt.managedbuild.toolchain.gnu.objc.macosx.base">
			<targetPlatform
				id="cdt.managedbuild.target.gnu.obj.platform.macosx.base" name="%PlatformName.Dbg"
				binaryParser="org.eclipse.cdt.core.MachO" osList="macosx" archList="all">
			</targetPlatform>
			<builder superClass="cdt.managedbuild.target.gnu.builder"
				id="cdt.managedbuild.target.gnu.builder.objc.macosx.base">
			</builder> 
			<tool id="cdt.managedbuild.tool.macosx.objc.linker.macosx.base"
				superClass="cdt.managedbuild.tool.macosx.objc.linker">
				<enablement type="CMD_USAGE">
					<not>
						<checkBuildProperty property="org.eclipse.cdt.build.core.buildArtefactType"
							value="org.eclipse.cdt.build.core.buildArtefactType.staticLib" />
					</not>
				</enablement>
			</tool>
			<tool id="cdt.managedbuild.tool.gnu.assembler.macosx.base.2"
				superClass="cdt.managedbuild.tool.gnu.assembler">
			</tool>
 			<tool id="cdt.managedbuild.tool.macosx.objc.compiler.macosx.base"
				superClass="cdt.managedbuild.tool.macosx.objc.compiler">
			</tool>
		</toolChain>
	</extension>
</plugin>
